<div class="dish-list">
  <div class="header-buttons">
    <button class="switch-button ingr-btn" (click)="navigateToIngredients()">–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</button>
    <button class="switch-button active">–ë–ª—é–¥–∞</button>
  </div>

  <input type="text" class="filter-input" placeholder="–ü–æ–∏—Å–∫ –±–ª—é–¥..." [(ngModel)]="filterText" (input)="filterDishes()" />

  <button class="add-button" (click)="showAddDishModal = true">–î–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ</button>

  <app-add-dish-modal *ngIf="showAddDishModal"
                      [profileId]="profileId"
                      (dishAdded)="onDishAdded($event)"
                      (closeModal)="showAddDishModal = false">
</app-add-dish-modal>


  <div *ngIf="isLoading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

  <div *ngIf="!isLoading && filteredDishes.length === 0" class="no-data">
    <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –±–ª—é–¥.</p>
  </div>

  <div class="dishes-container" *ngIf="!isLoading && filteredDishes.length > 0">
    <div class="dish-card" *ngFor="let dish of filteredDishes" (click)="openIngredientsModal(dish)">
      <div class="dish-header">
        <h3>{{ dish.name }}</h3>
        <button class="delete-button" (click)="deleteDish(dish.id); $event.stopPropagation()">üóëÔ∏è</button>
      </div>
      <p>–ö–∞–ª–æ—Ä–∏–∏: {{ dish.calories }} –∫–∫–∞–ª</p>
      <p>–ë–µ–ª–∫–∏: {{ dish.proteins }} –≥</p>
      <p>–ñ–∏—Ä—ã: {{ dish.fats }} –≥</p>
      <p>–£–≥–ª–µ–≤–æ–¥—ã: {{ dish.carbohydrates }} –≥</p>
    </div>



  </div>
</div>

<app-dish-ingredients-modal *ngIf="showIngredientsModal"
                            [ingredients]="selectedDishIngredients"
                            [dish]="selectedDish"
                            (closeModal)="closeModal()">
</app-dish-ingredients-modal>
